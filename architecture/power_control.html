
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Power Control System &#8212; Pazzk  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'architecture/power_control';</script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script src="../_static/mermaid-init.js?v=b11fa8ae"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Charger" href="charger.html" />
    <link rel="prev" title="Operating Modes" href="../firmware/operating_mode.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pazzk-logo.png" class="logo__image only-light" alt="Pazzk  documentation - Home"/>
    <script>document.write(`<img src="../_static/pazzk-logo.png" class="logo__image only-dark" alt="Pazzk  documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>

<li class="toctree-l1"><a class="reference internal" href="../cli/cli_commands.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development_board.html">EVSE Development Board</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Architecture</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../firmware/operating_mode.html">Operating Modes</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Power Control System</a></li>

<li class="toctree-l1"><a class="reference internal" href="charger.html">Charger</a></li>
<li class="toctree-l1"><a class="reference internal" href="network.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="system_quality.html">System Quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="adr.html">ADR Policy</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Communication / OCPP</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../comms/ocpp_auth.html">OCPP Auth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../comms/ocpp_boot.html">OCPP Boot</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Electrical Interfaces</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../electrical/control_pilot.html">Control Pilot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../electrical/flash.html">Flash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../electrical/input.html">Input Section</a></li>
<li class="toctree-l1"><a class="reference internal" href="../electrical/power.html">Power Management</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Firmware Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../firmware/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../firmware/device_serial_number.html">Device Serial Number</a></li>
<li class="toctree-l1"><a class="reference internal" href="../firmware/metrics.html">metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../firmware/uid_storage.html">UID Storage</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../api-reference/config.html">Confing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/downloader.html">Downloader</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/exio.html">EXIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/fs.html">File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/iec61851.html">IEC 61851</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/logfs.html">Log File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/metering.html">Metering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/periph.html">Peripheral</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/pilot.html">Pilot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/pinmap.html">Pinmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/relay.html">Relay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/safety.html">Safety</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/secret.html">Secret</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/uid.html">UID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/updater.html">Updater</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/uptime.html">Uptime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/usrinp.html">User Input</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/architecture/power_control.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Power Control System</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Power Control System</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#1-overview">1. Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2-core-concepts">2. Core Concepts</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#21-profile-structure-struct-pwrctrl_profile">2.1 Profile Structure (<code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">pwrctrl_profile</span></code>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#22-activation-conditions">2.2 Activation Conditions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#3-api-behavior-and-specifications">3. API Behavior and Specifications</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#31-profile-evaluation">3.1 Profile Evaluation</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#const-struct-pwrctrl_profile-pwrctrl_get_activestruct-pwrctrl-pwrctrl-time_t-now"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">pwrctrl_profile</span> <span class="pre">*pwrctrl_get_active(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32_t-pwrctrl_get_max_milliamperestruct-pwrctrl-pwrctrl-time_t-now"><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">pwrctrl_get_max_milliampere(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#4-overwrite-and-conflict-resolution-logic">4. Overwrite and Conflict Resolution Logic</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#41-overwrite-conditions">4.1 Overwrite Conditions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#42-gid-matching-special-rule">4.2 GID Matching Special Rule</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#5-recurring-profile-behavior">5. Recurring Profile Behavior</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#51-activation-modes">5.1 Activation Modes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#52-recurring-period-units">5.2 Recurring Period Units</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#6-future-work">6. Future Work</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#power-control-system---korean-version">Power Control System - Korean Version</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#1-개요">1. 개요</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2-핵심-개념">2. 핵심 개념</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#21-프로파일-구조-struct-pwrctrl_profile">2.1 프로파일 구조 (struct pwrctrl_profile)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#22-활성화-조건">2.2 활성화 조건</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#3-api-동작-및-명세">3. API 동작 및 명세</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#31-프로파일-평가">3.1 프로파일 평가</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#const-struct-pwrctrl_profile-pwrctrl_get_activestruct-pwrctrl-pwrctrl-time_t-now"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">pwrctrl_profile</span> <span class="pre">*pwrctrl_get_active(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32_t-pwrctrl_get_max_milliamperestruct-pwrctrl-pwrctrl-time_t-now"><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">pwrctrl_get_max_milliampere(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#4-덮어쓰기overwrite-및-충돌-해결-로직">4. 덮어쓰기(Overwrite) 및 충돌 해결 로직</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#41-덮어쓰기-발생-조건">4.1 덮어쓰기 발생 조건</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#42-gid-일치-시-특별-규칙">4.2 GID 일치 시 특별 규칙</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#5-반복-프로파일recurring-profile-동작">5. 반복 프로파일(Recurring Profile) 동작</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#51-활성화-모드">5.1 활성화 모드</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#52-반복-주기-단위">5.2 반복 주기 단위</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p><a class="reference internal" href="#power-control-system---korean-version"><span class="xref myst">한국어</span></a></p>
<section id="power-control-system">
<h1>Power Control System<a class="headerlink" href="#power-control-system" title="Link to this heading">#</a></h1>
<p>Power Control System Operational Specification.</p>
<section id="1-overview">
<h2>1. Overview<a class="headerlink" href="#1-overview" title="Link to this heading">#</a></h2>
<p>The Power Control System manages dynamic adjustment of maximum output current based on registered profiles. It evaluates profiles according to their validity period and activation windows, ensuring that only appropriate limits are applied at any given time.</p>
<p>This document formalizes the operational rules, evaluation criteria, and API behavior related to power control.</p>
</section>
<section id="2-core-concepts">
<h2>2. Core Concepts<a class="headerlink" href="#2-core-concepts" title="Link to this heading">#</a></h2>
<section id="21-profile-structure-struct-pwrctrl_profile">
<h3>2.1 Profile Structure (<code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">pwrctrl_profile</span></code>)<a class="headerlink" href="#21-profile-structure-struct-pwrctrl_profile" title="Link to this heading">#</a></h3>
<p>Each power control profile defines the following key fields:</p>
<ul class="simple">
<li><p>gid (<code class="docutils literal notranslate"><span class="pre">pwrctrl_profile_id_t</span></code>): Group ID of the profile.</p></li>
<li><p>priority (<code class="docutils literal notranslate"><span class="pre">pwrctrl_priority_t</span></code>): Higher priority value overrides lower ones within the same scope.</p></li>
<li><p>scope (<code class="docutils literal notranslate"><span class="pre">pwrctrl_scope_t</span></code>): Operational scope (Global, Default, Session, Dynamic, Override).</p></li>
<li><p>activation_mode (<code class="docutils literal notranslate"><span class="pre">pwrctrl_activation_mode_t</span></code>): Activation mode (Absolute, Recurring).</p></li>
<li><p>validity (<code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">pwrctrl_period</span></code>): Valid date range (<code class="docutils literal notranslate"><span class="pre">from</span></code> and <code class="docutils literal notranslate"><span class="pre">to</span></code> timestamps).</p></li>
<li><p>recurring (<code class="docutils literal notranslate"><span class="pre">pwrctrl_recurring_t</span></code>): Recurring pattern (Daily, Weekly, Yearly).</p></li>
<li><p>activation_base (<code class="docutils literal notranslate"><span class="pre">time_t</span></code>): Base time for activation calculation.</p></li>
<li><p>offset (<code class="docutils literal notranslate"><span class="pre">uint32_t</span></code>): Offset in seconds from the activation base.</p></li>
<li><p>duration (<code class="docutils literal notranslate"><span class="pre">uint32_t</span></code>): Duration of activation in seconds.</p></li>
<li><p>max_milliampere (<code class="docutils literal notranslate"><span class="pre">uint32_t</span></code>): Maximum allowed current in milliampere (mA).</p></li>
</ul>
</section>
<section id="22-activation-conditions">
<h3>2.2 Activation Conditions<a class="headerlink" href="#22-activation-conditions" title="Link to this heading">#</a></h3>
<p>A profile is considered <strong>active</strong> only if both of the following conditions are satisfied:</p>
<ul class="simple">
<li><p>Validity Check: The current time (<code class="docutils literal notranslate"><span class="pre">now</span></code>) must fall within the <code class="docutils literal notranslate"><span class="pre">validity.from</span></code> to <code class="docutils literal notranslate"><span class="pre">validity.to</span></code> range (inclusive).</p></li>
<li><p>Activation Window Check: The current time must fall within the activation window defined by <code class="docutils literal notranslate"><span class="pre">activation_base</span></code>, <code class="docutils literal notranslate"><span class="pre">offset</span></code>, and <code class="docutils literal notranslate"><span class="pre">duration</span></code>, according to the <code class="docutils literal notranslate"><span class="pre">activation_mode</span></code> and <code class="docutils literal notranslate"><span class="pre">recurring</span></code> settings.</p></li>
</ul>
<p>Both conditions must be true for a profile to be regarded as currently active.</p>
</section>
</section>
<section id="3-api-behavior-and-specifications">
<h2>3. API Behavior and Specifications<a class="headerlink" href="#3-api-behavior-and-specifications" title="Link to this heading">#</a></h2>
<section id="31-profile-evaluation">
<h3>3.1 Profile Evaluation<a class="headerlink" href="#31-profile-evaluation" title="Link to this heading">#</a></h3>
<section id="const-struct-pwrctrl_profile-pwrctrl_get_activestruct-pwrctrl-pwrctrl-time_t-now">
<h4><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">pwrctrl_profile</span> <span class="pre">*pwrctrl_get_active(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code><a class="headerlink" href="#const-struct-pwrctrl_profile-pwrctrl_get_activestruct-pwrctrl-pwrctrl-time_t-now" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Returns a pointer to the currently active profile based on the current time.</p></li>
<li><p>A profile is considered active only if it satisfies both validity and activation window.</p></li>
<li><p>Returns <code class="docutils literal notranslate"><span class="pre">NULL</span></code> if no profile is active.</p></li>
</ul>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>[!Note]
The returned profile is valid only momentarily. It must not be cached for future use without re-evaluation.</p>
</div>
</section>
<section id="uint32_t-pwrctrl_get_max_milliamperestruct-pwrctrl-pwrctrl-time_t-now">
<h4><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">pwrctrl_get_max_milliampere(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code><a class="headerlink" href="#uint32_t-pwrctrl_get_max_milliamperestruct-pwrctrl-pwrctrl-time_t-now" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Returns the maximum output current in milliampere (mA) for the active profile at the current time.</p></li>
<li><p>Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if no profile is active.</p></li>
</ul>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>[!Note]
This reflects the active profile’s <code class="docutils literal notranslate"><span class="pre">max_milliampere</span></code> only if both validity and activation window checks pass.</p>
</div>
</section>
</section>
</section>
<section id="4-overwrite-and-conflict-resolution-logic">
<h2>4. Overwrite and Conflict Resolution Logic<a class="headerlink" href="#4-overwrite-and-conflict-resolution-logic" title="Link to this heading">#</a></h2>
<section id="41-overwrite-conditions">
<h3>4.1 Overwrite Conditions<a class="headerlink" href="#41-overwrite-conditions" title="Link to this heading">#</a></h3>
<p>A newly added profile overwrites an existing profile if <strong>all</strong> the following conditions are met:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">scope</span></code> matches.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">priority</span></code> matches.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gid</span></code> differs.</p></li>
<li><p>Activation windows overlap (activation_base + start_offset and duration).</p></li>
</ul>
<p>If activation windows do <strong>not</strong> overlap, profiles can coexist even if scope and priority match.</p>
</section>
<section id="42-gid-matching-special-rule">
<h3>4.2 GID Matching Special Rule<a class="headerlink" href="#42-gid-matching-special-rule" title="Link to this heading">#</a></h3>
<p>If an incoming profile has the <strong>same gid</strong> as an existing profile with the same scope and priority:</p>
<ul class="simple">
<li><p>Overwrite only if their activation windows overlap.</p></li>
<li><p>Otherwise, allow coexistence (multiple profiles with different time periods under the same gid).</p></li>
</ul>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>[!Note]
Overlapping activation windows between profiles with the same gid are considered configuration errors and must be resolved by overwrite.</p>
</div>
</section>
</section>
<section id="5-recurring-profile-behavior">
<h2>5. Recurring Profile Behavior<a class="headerlink" href="#5-recurring-profile-behavior" title="Link to this heading">#</a></h2>
<section id="51-activation-modes">
<h3>5.1 Activation Modes<a class="headerlink" href="#51-activation-modes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Absolute: The activation window starts at <code class="docutils literal notranslate"><span class="pre">activation_base</span> <span class="pre">+</span> <span class="pre">offset</span></code> for <code class="docutils literal notranslate"><span class="pre">duration</span></code>.</p></li>
<li><p>Recurring: Activation repeats at defined intervals (daily, weekly, etc.) starting from <code class="docutils literal notranslate"><span class="pre">activation_base</span></code>.</p></li>
</ul>
</section>
<section id="52-recurring-period-units">
<h3>5.2 Recurring Period Units<a class="headerlink" href="#52-recurring-period-units" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Recurring Type</p></th>
<th class="head text-left"><p>Duration</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Daily</p></td>
<td class="text-left"><p>86400 seconds</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Weekly</p></td>
<td class="text-left"><p>604800 seconds</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Yearly</p></td>
<td class="text-left"><p>31536000 seconds</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>[!Note]
For monthly and yearly recurring, approximate fixed seconds are used unless precise calendar logic is implemented.</p>
</div>
</section>
</section>
<section id="6-future-work">
<h2>6. Future Work<a class="headerlink" href="#6-future-work" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Support for exact calendar month and year recurrences.</p></li>
</ul>
</section>
</section>
<section id="power-control-system---korean-version">
<h1>Power Control System - Korean Version<a class="headerlink" href="#power-control-system---korean-version" title="Link to this heading">#</a></h1>
<p>Power Control System 운용 명세서 (Operational Specification)</p>
<section id="1-개요">
<h2>1. 개요<a class="headerlink" href="#1-개요" title="Link to this heading">#</a></h2>
<p>Power Control System은 등록된 프로파일을 기반으로 최대 출력 전류를 동적으로
조정합니다. 현재 시간에 따라 프로파일의 유효 기간과 활성화 윈도우를 평가하여,
언제나 적절한 전류 제한이 적용되도록 합니다.</p>
<p>본 문서는 전력 제어에 관련된 운영 규칙, 평가 기준, API 동작을 공식화합니다.</p>
</section>
<section id="2-핵심-개념">
<h2>2. 핵심 개념<a class="headerlink" href="#2-핵심-개념" title="Link to this heading">#</a></h2>
<section id="21-프로파일-구조-struct-pwrctrl_profile">
<h3>2.1 프로파일 구조 (struct pwrctrl_profile)<a class="headerlink" href="#21-프로파일-구조-struct-pwrctrl_profile" title="Link to this heading">#</a></h3>
<p>각 전력 제어 프로파일은 다음 주요 필드들을 정의합니다:</p>
<ul class="simple">
<li><p><strong>gid</strong> (<code class="docutils literal notranslate"><span class="pre">pwrctrl_profile_id_t</span></code>): 프로파일 그룹 ID.</p></li>
<li><p><strong>priority</strong> (<code class="docutils literal notranslate"><span class="pre">pwrctrl_priority_t</span></code>): 동일 scope 내에서 높은 priority 값이 우선합니다.</p></li>
<li><p><strong>scope</strong> (<code class="docutils literal notranslate"><span class="pre">pwrctrl_scope_t</span></code>): 적용 범위 (Global, Default, Session, Dynamic, Override).</p></li>
<li><p><strong>activation_mode</strong> (<code class="docutils literal notranslate"><span class="pre">pwrctrl_activation_mode_t</span></code>): 활성화 모드 (Absolute, Recurring).</p></li>
<li><p><strong>validity</strong> (<code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">pwrctrl_period</span></code>): 유효 날짜 범위 (<code class="docutils literal notranslate"><span class="pre">from</span></code>, <code class="docutils literal notranslate"><span class="pre">to</span></code> 타임스탬프).</p></li>
<li><p><strong>recurring</strong> (<code class="docutils literal notranslate"><span class="pre">pwrctrl_recurring_t</span></code>): 반복 패턴 (Daily, Weekly, Yearly).</p></li>
<li><p><strong>activation_base</strong> (<code class="docutils literal notranslate"><span class="pre">time_t</span></code>): 활성화 기준 시간.</p></li>
<li><p><strong>offset</strong> (<code class="docutils literal notranslate"><span class="pre">uint32_t</span></code>): 기준 시간으로부터의 오프셋 (초 단위).</p></li>
<li><p><strong>duration</strong> (<code class="docutils literal notranslate"><span class="pre">uint32_t</span></code>): 활성화 지속 시간 (초 단위).</p></li>
<li><p><strong>max_milliampere</strong> (<code class="docutils literal notranslate"><span class="pre">uint32_t</span></code>): 허용 최대 전류 (밀리암페어, mA).</p></li>
</ul>
</section>
<section id="22-활성화-조건">
<h3>2.2 활성화 조건<a class="headerlink" href="#22-활성화-조건" title="Link to this heading">#</a></h3>
<p>프로파일은 다음 두 조건을 모두 만족할 때만 활성(active)으로 간주됩니다:</p>
<ul class="simple">
<li><p>유효성 검사(Validity Check): 현재 시간(<code class="docutils literal notranslate"><span class="pre">now</span></code>)이 <code class="docutils literal notranslate"><span class="pre">validity.from</span></code> 이상이고 <code class="docutils literal notranslate"><span class="pre">validity.to</span></code> 이하 범위에 포함되어야 합니다. (포함 범위)</p></li>
<li><p>실행 윈도우 검사(Activation Window Check): <code class="docutils literal notranslate"><span class="pre">activation_base</span></code> + <code class="docutils literal notranslate"><span class="pre">offset</span></code> 기준으로 계산된 활성 구간 내에 현재 시간이 포함되어야 합니다.</p></li>
</ul>
</section>
</section>
<section id="3-api-동작-및-명세">
<h2>3. API 동작 및 명세<a class="headerlink" href="#3-api-동작-및-명세" title="Link to this heading">#</a></h2>
<section id="31-프로파일-평가">
<h3>3.1 프로파일 평가<a class="headerlink" href="#31-프로파일-평가" title="Link to this heading">#</a></h3>
<section id="const-struct-pwrctrl_profile-pwrctrl_get_activestruct-pwrctrl-pwrctrl-time_t-now">
<h4><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">pwrctrl_profile</span> <span class="pre">*pwrctrl_get_active(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code><a class="headerlink" href="#const-struct-pwrctrl_profile-pwrctrl_get_activestruct-pwrctrl-pwrctrl-time_t-now" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>현재 시간을 기준으로 활성 프로파일 포인터를 반환합니다.</p></li>
<li><p>유효성 검사와 실행 윈도우 검사를 모두 통과해야 합니다.</p></li>
<li><p>활성 프로파일이 없으면 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>을 반환합니다.</p></li>
</ul>
</section>
<section id="uint32_t-pwrctrl_get_max_milliamperestruct-pwrctrl-pwrctrl-time_t-now">
<h4><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">pwrctrl_get_max_milliampere(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code><a class="headerlink" href="#uint32_t-pwrctrl_get_max_milliamperestruct-pwrctrl-pwrctrl-time_t-now" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>현재 시간에 해당하는 활성 프로파일의 최대 출력 전류(mA)를 반환합니다.</p></li>
<li><p>활성 프로파일이 없으면 <code class="docutils literal notranslate"><span class="pre">0</span></code>을 반환합니다.</p></li>
</ul>
</section>
</section>
</section>
<section id="4-덮어쓰기overwrite-및-충돌-해결-로직">
<h2>4. 덮어쓰기(Overwrite) 및 충돌 해결 로직<a class="headerlink" href="#4-덮어쓰기overwrite-및-충돌-해결-로직" title="Link to this heading">#</a></h2>
<section id="41-덮어쓰기-발생-조건">
<h3>4.1 덮어쓰기 발생 조건<a class="headerlink" href="#41-덮어쓰기-발생-조건" title="Link to this heading">#</a></h3>
<p>신규 프로파일은 다음 모든 조건이 만족될 경우 기존 프로파일을 덮어쓰기(overwrite)합니다:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">scope</span></code>가 동일할 것</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">priority</span></code>가 동일할 것</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gid</span></code>가 다를 것</p></li>
<li><p>실행 윈도우가 겹칠 것</p></li>
</ul>
</section>
<section id="42-gid-일치-시-특별-규칙">
<h3>4.2 GID 일치 시 특별 규칙<a class="headerlink" href="#42-gid-일치-시-특별-규칙" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>들어오는 프로파일이 기존 프로파일과 <code class="docutils literal notranslate"><span class="pre">scope</span></code>, <code class="docutils literal notranslate"><span class="pre">priority</span></code>, <code class="docutils literal notranslate"><span class="pre">gid</span></code>가 모두 동일할 경우,</p></li>
<li><p>실행 윈도우가 겹치면 덮어쓰기 발생</p></li>
<li><p>실행 윈도우가 겹치지 않으면 둘 다 등록하여 서로 다른 활성 기간을 가질 수 있음</p></li>
</ul>
</section>
</section>
<section id="5-반복-프로파일recurring-profile-동작">
<h2>5. 반복 프로파일(Recurring Profile) 동작<a class="headerlink" href="#5-반복-프로파일recurring-profile-동작" title="Link to this heading">#</a></h2>
<section id="51-활성화-모드">
<h3>5.1 활성화 모드<a class="headerlink" href="#51-활성화-모드" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Absolute: <code class="docutils literal notranslate"><span class="pre">activation_base</span> <span class="pre">+</span> <span class="pre">offset</span></code> 기준으로 1회 활성화</p></li>
<li><p>Recurring: <code class="docutils literal notranslate"><span class="pre">activation_base</span></code> 기준으로 주기적으로 활성화 (daily, weekly 등)</p></li>
</ul>
</section>
<section id="52-반복-주기-단위">
<h3>5.2 반복 주기 단위<a class="headerlink" href="#52-반복-주기-단위" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>반복 유형</p></th>
<th class="head text-left"><p>주기 시간(초)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Daily (일간)</p></td>
<td class="text-left"><p>86400초</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Weekly (주간)</p></td>
<td class="text-left"><p>604800초</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Yearly (연간)</p></td>
<td class="text-left"><p>31536000초</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../firmware/operating_mode.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Operating Modes</p>
      </div>
    </a>
    <a class="right-next"
       href="charger.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Charger</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Power Control System</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#1-overview">1. Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2-core-concepts">2. Core Concepts</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#21-profile-structure-struct-pwrctrl_profile">2.1 Profile Structure (<code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">pwrctrl_profile</span></code>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#22-activation-conditions">2.2 Activation Conditions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#3-api-behavior-and-specifications">3. API Behavior and Specifications</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#31-profile-evaluation">3.1 Profile Evaluation</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#const-struct-pwrctrl_profile-pwrctrl_get_activestruct-pwrctrl-pwrctrl-time_t-now"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">pwrctrl_profile</span> <span class="pre">*pwrctrl_get_active(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32_t-pwrctrl_get_max_milliamperestruct-pwrctrl-pwrctrl-time_t-now"><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">pwrctrl_get_max_milliampere(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#4-overwrite-and-conflict-resolution-logic">4. Overwrite and Conflict Resolution Logic</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#41-overwrite-conditions">4.1 Overwrite Conditions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#42-gid-matching-special-rule">4.2 GID Matching Special Rule</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#5-recurring-profile-behavior">5. Recurring Profile Behavior</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#51-activation-modes">5.1 Activation Modes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#52-recurring-period-units">5.2 Recurring Period Units</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#6-future-work">6. Future Work</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#power-control-system---korean-version">Power Control System - Korean Version</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#1-개요">1. 개요</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2-핵심-개념">2. 핵심 개념</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#21-프로파일-구조-struct-pwrctrl_profile">2.1 프로파일 구조 (struct pwrctrl_profile)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#22-활성화-조건">2.2 활성화 조건</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#3-api-동작-및-명세">3. API 동작 및 명세</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#31-프로파일-평가">3.1 프로파일 평가</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#const-struct-pwrctrl_profile-pwrctrl_get_activestruct-pwrctrl-pwrctrl-time_t-now"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">pwrctrl_profile</span> <span class="pre">*pwrctrl_get_active(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32_t-pwrctrl_get_max_milliamperestruct-pwrctrl-pwrctrl-time_t-now"><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">pwrctrl_get_max_milliampere(struct</span> <span class="pre">pwrctrl</span> <span class="pre">*pwrctrl,</span> <span class="pre">time_t</span> <span class="pre">now);</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#4-덮어쓰기overwrite-및-충돌-해결-로직">4. 덮어쓰기(Overwrite) 및 충돌 해결 로직</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#41-덮어쓰기-발생-조건">4.1 덮어쓰기 발생 조건</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#42-gid-일치-시-특별-규칙">4.2 GID 일치 시 특별 규칙</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#5-반복-프로파일recurring-profile-동작">5. 반복 프로파일(Recurring Profile) 동작</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#51-활성화-모드">5.1 활성화 모드</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#52-반복-주기-단위">5.2 반복 주기 단위</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Pazzk.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>